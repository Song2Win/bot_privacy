<!DOCTYPE html>
<html>
<head><title>Test addFriend</title></head>
<body>
<button id="btn">Add Friend</button>

<script src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>
<script>
  const liffId = '2007002607-5Q82OXzJ';  // เปลี่ยนเป็น LIFF ID จริง

  liff.init({ liffId })
    .then(() => {
      document.getElementById('btn').addEventListener('click', async () => {
        if (!liff.isInClient()) {
          alert('กรุณาเปิดในแอป LINE เท่านั้น');
          return;
        }
        if (typeof liff.addFriend !== 'function') {
          alert('addFriend() ไม่รองรับในเวอร์ชันนี้');
          return;
        }
        try {
          await liff.addFriend();
          alert('เพิ่มเพื่อนสำเร็จ');
        } catch (e) {
          alert('Error: ' + e.message);
        }
      });
    })
    .catch(err => alert('LIFF init error: ' + err.message));
</script>
</body>
</html>
